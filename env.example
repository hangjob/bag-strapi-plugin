# bag-strapi-plugin 配置模板
# 将需要的环境变量复制到你的 Strapi 项目的 .env 文件中

# ============================================
# 加密工具配置
# ============================================

# AES 对称加密密钥（至少32字符）
CRYPTO_AES_KEY=your-aes-encryption-key-32-chars!!

# RSA 公钥（PEM 格式，可选）
# 使用单行格式，或者直接在配置文件中使用多行字符串
# CRYPTO_RSA_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkq...\n-----END PUBLIC KEY-----"

# RSA 私钥（PEM 格式，可选）
# CRYPTO_RSA_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvQIBADAN...\n-----END PRIVATE KEY-----"

# HMAC 签名密钥
CRYPTO_HMAC_SECRET=your-hmac-secret-key-here

# Token 生成密钥
CRYPTO_TOKEN_SECRET=your-token-secret-key-here

# ============================================
# 签名验证配置
# ============================================

# 是否启用签名验证（true/false）
SIGN_VERIFY_ENABLED=true

# 验证模式：simple | encrypted | both
SIGN_VERIFY_MODE=both

# ============================================
# 方式一：简单签名模式
# ============================================

# API 签名密钥（必填）
# 生产环境请使用强密钥
API_SIGN_KEY=your-production-sign-key-here

# 如果需要多个签名（可选）
# API_SIGN_FRONTEND=frontend-sign-2024
# API_SIGN_MOBILE=mobile-sign-2024
# API_SIGN_ADMIN=admin-sign-2024

# ============================================
# 方式二：高级加密模式（可选）
# ============================================

# 签名加密密钥（使用高级模式时必填）
# SIGN_SECRET_KEY=your-super-secret-key-here

# ============================================
# 白名单配置（可选）
# ============================================

# 不需要验证签名的接口路径（多个用逗号分隔）
SIGN_WHITELIST=/bag-strapi-plugin/health,/bag-strapi-plugin/version

# ============================================
# 加密签名配置
# ============================================

# 加密签名密钥（用于解密签名，如果为空则使用 CRYPTO_AES_KEY）
# SIGN_ENCRYPTION_KEY=your-encryption-key-32-chars!!

# ============================================
# 一次性签名配置
# ============================================

# 是否启用一次性签名（签名只能使用一次）
SIGN_ONCE_ONLY=false

# 签名过期时间（毫秒），默认1小时
SIGN_EXPIRATION=3600000

# ============================================
# 示例：开发环境配置
# ============================================

# SIGN_VERIFY_ENABLED=false  # 开发环境禁用签名验证
# API_SIGN_KEY=dev-sign-123

# ============================================
# 示例：生产环境配置
# ============================================

# SIGN_VERIFY_ENABLED=true
# API_SIGN_KEY=prod-strong-sign-xyz-2024-secure
# SIGN_WHITELIST=/bag-strapi-plugin/health

