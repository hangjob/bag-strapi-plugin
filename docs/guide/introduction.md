# 简介

## 什么是 bag-strapi-plugin？

bag-strapi-plugin 是一个为 Strapi 提供通用功能的插件，旨在简化常见功能的开发，让你能够快速构建安全、可靠的应用程序。

## 核心功能

### 🔐 JWT 认证系统

完整的用户认证解决方案，包括：

- 用户注册与登录
- JWT Token 生成与验证
- 密码安全加密存储
- Token 刷新机制
- 用户信息管理
- 密码修改和重置

### 🖼️ 验证码系统

多种验证码类型支持：

- **图形验证码** - SVG 格式，可自定义样式
- **数学运算验证码** - 简单算术题
- **邮件验证码** - 发送到邮箱
- **短信验证码** - 发送到手机

### ⚡ API 限流

基于 `rate-limiter-flexible` 的强大限流系统：

- 支持基于 IP、用户、接口等多种限流策略
- 支持内存和 Redis 存储
- 可自定义限流规则
- 提供预定义的限流策略
- IP 白名单支持

### 🔒 加密工具库

全局可用的加密工具，通过 `strapi.crypto` 访问：

- **AES 加密** - 对称加密，适合数据加密
- **RSA 加密** - 非对称加密，适合密钥交换
- **哈希函数** - SHA-256、SHA-512、MD5
- **HMAC 签名** - 消息认证码
- **随机工具** - UUID、随机字符串、随机数字

### 📋 菜单管理

自动创建的菜单数据库表：

- 16 个完整的菜单字段
- 支持国际化配置
- 路由和图标管理
- 排序和权限控制
- 支持嵌套菜单

### ✍️ 签名验证

全局签名验证中间件：

- **简单签名** - 固定字符串验证
- **加密签名** - 解密后验证
- **一次性签名** - 防止重放攻击
- 白名单机制
- 自动过期清理

### 🎨 自定义登录页面

提供现代化的登录组件：

- 美观的 UI 设计
- 支持验证码
- 易于自定义
- 3 步完成覆盖

## 技术亮点

### 全局可用

插件功能通过 Strapi 全局对象访问，无需导入：

```javascript
// 在控制器、服务、中间件中直接使用
strapi.crypto.aes.encrypt('data', 'key');
strapi.auth.generateToken(user);
```

### 灵活配置

支持多种配置方式：

- **环境变量** - 推荐用于敏感信息
- **配置文件** - `config/plugins.js`
- **默认配置** - 开箱即用

### 安全优先

遵循安全最佳实践：

- bcrypt 密码加密
- JWT Token 认证
- 验证码防暴力破解
- API 限流保护
- 加密签名验证

### 生产就绪

- 经过生产环境验证
- 完善的错误处理
- 详细的日志记录
- 性能优化

## 使用场景

### 后台管理系统

- 使用 JWT 认证保护后台
- API 限流防止滥用
- 菜单管理动态权限

### 移动应用后端

- 用户注册登录
- Token 刷新机制
- 验证码短信登录

### 开放 API 平台

- 签名验证保护 API
- 限流防止滥用
- 加密敏感数据

### 电商平台

- 用户认证系统
- 订单数据加密
- 验证码防刷单

## 版本历史

### v0.0.4（当前版本）

- ✅ 新增 JWT 认证系统
- ✅ 新增验证码系统
- ✅ 新增 API 限流
- ✅ 新增加密工具库
- ✅ 新增一次性签名
- ✅ 优化菜单管理
- ✅ 完善文档

### v0.0.3

- ✅ 修复中间件配置问题
- ✅ 添加调试日志
- ✅ 优化路径匹配

### v0.0.1

- ✅ 实现签名验证中间件
- ✅ 添加菜单数据库表
- ✅ 管理面板扩展

## 下一步

准备好开始了吗？

- [快速开始](/guide/quick-start) - 5 分钟快速上手
- [安装指南](/guide/installation) - 详细的安装步骤
- [配置说明](/guide/configuration) - 完整的配置选项

## 获取帮助

- 📖 查看[完整文档](/guide/quick-start)
- 🐛 提交 [Issue](https://github.com/hangjob/bag-strapi-plugin/issues)
- 💬 参与 [讨论](https://github.com/hangjob/bag-strapi-plugin/discussions)

## 许可证

[MIT License](https://github.com/hangjob/bag-strapi-plugin/blob/main/LICENSE)

